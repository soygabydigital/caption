<html>
    <head>
        <title>Contar Caracteres</title>
    </head>
    <style>
        * {
            font-family: sans-serif;
        }
        textarea {
            padding: 8px;
            border: 1px solid #ddd;
            width: 400px;
            min-height: 100px;
        }
        label{
            display: block;
            font-weight: bold;
        }
    </style>
    <body>

        <label for="contador">Contador de caracteres:</label>
        <textarea name="contador" id="contador" onpaste="contarcaracteres();" onkeyup="contarcaracteres();"></textarea> <br>
        <i id="res">0 caractere/s</i>&nbsp;<i id="res_h">y 0 hashtag/s</i> <br>
      
<script>
    function contarcaracteres(){
            var total=2200;
            var total_hashtags= 30;

                setTimeout(function(){
                    var valor=document.getElementById('contador');

                    var respuesta=document.getElementById('res');
                    var cantidad=valor.value.length;
                    document.getElementById('res').innerHTML = cantidad + ' caractere/s (quedan ' + (total - cantidad) +')';

                    var res_hashtag=document.getElementById('res_h');
                    var cantidad_h=valor.value.split('#').length-1;
                    document.getElementById('res_h').innerHTML = 'y ' + cantidad_h + ' hashtag/s (quedan ' + (total_hashtags - cantidad_h) +')';

                        if(cantidad>total){respuesta.style.color = "red";
                        }else {respuesta.style.color = "black";}

                        if (cantidad_h>total_hashtags){res_hashtag.style.color="red";
                        }else{res_hashtag.style.color="black";}

                },10);
 }
</script>
    </body>
</html>


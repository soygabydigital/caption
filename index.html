<html>
    <head>
        <title>Contar Caracteres</title>
    </head>
    <style>
        * {
            font-family: sans-serif;
        }
        textarea {
            padding: 8px;
            border: 1px solid #ddd;
            width: 400px;
            min-height: 100px;
        }
        label{
            display: block;
            font-weight: bold;
        }
    </style>
    <body>
        <label for="contador">Contador de caracteres:</label>
        <textarea name="contador" id="contador" onpaste="contarcaracteres();" onkeyup="contarcaracteres();"></textarea>
        <div id="res">0 caractere/s</div>
        <br><br>
        <label for="contarhashtags">Contador de Hashtags</label>
        <textarea name="hashtag" id="hashtag" onpaste="contarhashtags();" onkeyup="contarhashtags();" cols="30" rows="10"></textarea>
        <div id="res_h">0 hashtag/s</div>
<script>

	function contarcaracteres(){
		
	       //Numero de caracteres permitidos
               var total=2200;

		setTimeout(function(){
		var valor=document.getElementById('contador');
		var respuesta=document.getElementById('res');
		var cantidad=valor.value.length;
		document.getElementById('res').innerHTML = cantidad + ' caractere/s, te quedan ' + (total - cantidad) ;
		if(cantidad>total){
			respuesta.style.color = "red";
		}
		else {
			respuesta.style.color = "black";
		}
		},10);

	}

    function contarhashtags(){

        //Numero de hashtags permitidos
        var total_hashtags= 30;

         setTimeout(function(){
            var valor1=document.getElementById('hashtag');
            var res_hashtag=document.getElementById('res_h');
            var cantidad_h=valor1.value.split(' #').length;
            document.getElementById('res_h').innerHTML = cantidad_h + ' hashtag/s, te quedan ' + (total_hashtags - cantidad_h) ;
            if (cantidad_h>total_hashtags){
                res_hashtag.style.color="red";
            }
                else{
                    res_hashtag.style.color="black";
                }
            },10);         
    }
</script>
    </body>
</html>

